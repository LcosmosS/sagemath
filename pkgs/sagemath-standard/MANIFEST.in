include VERSION.txt

global-include *.pxi *.pxd *.h *.hpp

prune sage/ext/interpreters   # In particular, __init__.py must not be present in the distribution; or sage_setup.autogen.interpreters.rebuild will not generate the code
prune sage_setup
prune sage_docbuild
prune doc

#
# Most C and C++ files are generated by Cython and should not
# be included in the sdist.
#
global-exclude *.c
global-exclude *.cpp

#
# List of C and C++ files that are actual source files,
# NOT generated by Cython. The same list appears in SAGE_ROOT/.gitignore
#
include sage/cpython/debugimpl.c
include sage/graphs/base/boost_interface.cpp
include sage/graphs/cliquer/cl.c
include sage/graphs/graph_decompositions/sage_tdlib.cpp
include sage/libs/eclib/wrap.cpp
include sage/libs/linkages/padics/relaxed/flint_helper.c
include sage/misc/inherit_comparison_impl.c
include sage/modular/arithgroup/farey.cpp
include sage/modular/arithgroup/sl2z.cpp
include sage/rings/bernmm/bern_modp.cpp
include sage/rings/bernmm/bern_modp_util.cpp
include sage/rings/bernmm/bern_rat.cpp
include sage/rings/bernmm/bernmm-test.cpp
include sage/rings/padics/transcendantal.c
include sage/rings/polynomial/weil/power_sums.c
include sage/schemes/hyperelliptic_curves/hypellfrob/hypellfrob.cpp
include sage/schemes/hyperelliptic_curves/hypellfrob/recurrences_ntl.cpp
include sage/stats/distributions/dgs_bern.c
include sage/stats/distributions/dgs_gauss_dp.c
include sage/stats/distributions/dgs_gauss_mp.c
include sage/symbolic/ginac/*.cpp
# Also actual C++ source files.
include sage/geometry/triangulation/triangulations.cc
include sage/geometry/triangulation/data.cc
include sage/geometry/triangulation/functions.cc

# Exclude what is already shipped in sagemath-objects, sagemath-categories, sagemath-environment, sagemath-repl
global-exclude all__*.py
prune sage/misc
include sage/misc/all.py
include sage/misc/allocator.pxd
include sage/misc/allocator.pyx
include sage/misc/binary_tree.pxd
include sage/misc/binary_tree.pyx
include sage/misc/search.pxd
include sage/misc/search.pyx
# Exclude what is shipped in sagemath-objects
prune sage/cpython
prune sage/structure
prune sage/libs/gmp
# Exclude what is shipped in sagemath-categories
prune sage/categories
exclude sage/rings/ideal.*
exclude sage/rings/ring.*
prune sage/typeset
# Exclude what is shipped in sagemath-environment
exclude sage/env.py
exclude sage/version.py
prune sage/features
# Exclude what is shipped in sagemath-repl
prune sage/doctest
prune sage/repl
exclude sage/misc/banner.py
exclude sage/misc/sagedoc.py
exclude sage/misc/sage_input.py
exclude sage/misc/sage_eval.py

global-exclude __pycache__
global-exclude *.py[co]
global-exclude *.bak
global-exclude *.so
global-exclude *~
prune .tox
prune build
prune dist
